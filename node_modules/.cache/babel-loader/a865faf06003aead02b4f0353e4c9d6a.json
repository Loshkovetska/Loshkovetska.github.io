{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ddima/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/portfolio/cinema-park/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/ddima/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/portfolio/cinema-park/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{movieData as sliderData}from\"../../mockData/movieData\";import MovieSlider from\"../MovieSlider/MovieSlider\";import{Link}from\"react-router-dom\";import{Trailer,GetMore}from\"../Svg/Svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var count=1;export default function CurrentMovies(props){var _useState=useState(props.filteredData[0].id),_useState2=_slicedToArray(_useState,2),movieId=_useState2[0],setMovieId=_useState2[1];function getTags(tags){return tags.map(function(tag,index){return/*#__PURE__*/_jsx(\"span\",{className:\"tags__item\",children:tag},index);});}function getAboutMovie(idMovie){!idMovie?movieId:setMovieId(idMovie);var _sliderData=sliderData[movieId-1],src=_sliderData.src,tags=_sliderData.tags,title=_sliderData.title,genre=_sliderData.genre,previews=_sliderData.previews,urlTrailer=_sliderData.urlTrailer,getDetail=_sliderData.getDetail;return/*#__PURE__*/_jsx(\"div\",{className:\"slider\",style:{backgroundImage:\"url('\".concat(src,\"')\")},children:/*#__PURE__*/_jsxs(\"div\",{className:\"slider__content slider-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"slider-content__tags tags\",children:[getTags(tags),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"slider-content__movie-title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider-content__genre\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"genre-title\",children:\"\\u0416\\u0430\\u043D\\u0440: \"}),genre]}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider-content__previews previews\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"previews__title\",children:\"\\u0421\\u0435\\u0430\\u043D\\u0441\\u0438 \\u043D\\u0430 \\u0441\\u044C\\u043E\\u0433\\u043E\\u0434\\u043D\\u0456:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"previews__items\",children:getPreviews(previews)})]}),getMore(urlTrailer,getDetail)]})});}function getPreviews(previews){return _toConsumableArray(previews).map(function(_ref,index){var href=_ref.href,time=_ref.time,_ref$tooltip=_ref.tooltip,price=_ref$tooltip.price,hall=_ref$tooltip.hall;return/*#__PURE__*/_jsxs(\"div\",{className:\"previews__item preview\",children:[/*#__PURE__*/_jsx(Link,{to:href,className:\"preview__link\",children:time}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview__tooltip\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"preview__price\",children:price}),/*#__PURE__*/_jsx(\"span\",{className:\"preview__hall\",children:hall})]})]},index);});}function showSlide(flagButton){var id=props.filteredData[count-1].id;if(flagButton&&id!==props.filteredData[props.filteredData.length-1].id){id++;count++;getAboutMovie(id);}else if(!flagButton&&id!==props.filteredData[0].id){id--;count--;getAboutMovie(id);}}function getMore(urlTrailer,getDetail){return/*#__PURE__*/_jsxs(\"div\",{className:\"slider-content__more get-more\",children:[/*#__PURE__*/_jsxs(Link,{to:urlTrailer,className:\"get-more__item\",target:\"__blank\",children:[/*#__PURE__*/_jsx(Trailer,{className:\"get-more__svg\"}),/*#__PURE__*/_jsx(\"span\",{className:\"get-more__title\",children:\"\\u0422\\u0440\\u0435\\u0439\\u043B\\u0435\\u0440\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/details/\".concat(getDetail),className:\"get-more__item\",children:[/*#__PURE__*/_jsx(GetMore,{className:\"get-more__svg\"}),/*#__PURE__*/_jsx(\"span\",{className:\"get-more__title\",children:\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u044C\\u043D\\u0456\\u0448\\u0435\"})]})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[getAboutMovie(),/*#__PURE__*/_jsx(MovieSlider,{getAboutMovie:getAboutMovie,filterData:props.filteredData}),/*#__PURE__*/_jsx(\"button\",{className:\"slick-arrow slick-prev arrow-mobile\",onClick:function onClick(){return showSlide(false);}}),/*#__PURE__*/_jsx(\"button\",{className:\"slick-arrow slick-next arrow-mobile\",onClick:function onClick(){return showSlide(true);}})]});}","map":{"version":3,"sources":["C:/Users/ddima/OneDrive/Рабочий стол/portfolio/cinema-park/src/components/CurrentMovies/CurrentMovies.js"],"names":["React","useState","movieData","sliderData","MovieSlider","Link","Trailer","GetMore","count","CurrentMovies","props","filteredData","id","movieId","setMovieId","getTags","tags","map","tag","index","getAboutMovie","idMovie","src","title","genre","previews","urlTrailer","getDetail","backgroundImage","getPreviews","getMore","href","time","tooltip","price","hall","showSlide","flagButton","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { movieData as sliderData } from \"../../mockData/movieData\";\r\nimport MovieSlider from \"../MovieSlider/MovieSlider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Trailer, GetMore } from \"../Svg/Svg\";\r\n\r\nlet count = 1;\r\n\r\nexport default function CurrentMovies(props) {\r\n    const [movieId, setMovieId] = useState(props.filteredData[0].id);\r\n\r\n    function getTags(tags) {\r\n        return tags.map((tag, index) => (\r\n            <span className=\"tags__item\" key={index}>{tag}</span>\r\n        ));\r\n    }\r\n\r\n    function getAboutMovie(idMovie) {\r\n        !idMovie ? movieId : setMovieId(idMovie);\r\n        const { src, tags, title, genre, previews, urlTrailer, getDetail } = sliderData[movieId - 1];\r\n\r\n        return (\r\n            <div className=\"slider\" style={{ backgroundImage: `url('${src}')` }}>\r\n                <div className=\"slider__content slider-content\">\r\n                    <div className=\"slider-content__tags tags\">{getTags(tags)} </div>\r\n                    <div className=\"slider-content__movie-title\">{title}</div>\r\n                    <div className=\"slider-content__genre\"><span className=\"genre-title\">Жанр: </span>{genre}</div>\r\n                    <div className=\"slider-content__previews previews\">\r\n                        <div className=\"previews__title\">Сеанси на сьогодні:</div>\r\n                        <div className=\"previews__items\">{getPreviews(previews)}</div>\r\n                    </div>\r\n                    {getMore(urlTrailer, getDetail)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    function getPreviews(previews) {\r\n        return [...previews].map(({ href, time, tooltip: { price, hall } }, index) => (\r\n            <div key={index} className=\"previews__item preview\" >\r\n                <Link to={href} className=\"preview__link\">{time}</Link>\r\n                <div className=\"preview__tooltip\">\r\n                    <span className=\"preview__price\">{price}</span>\r\n                    <span className=\"preview__hall\">{hall}</span>\r\n                </div>\r\n            </div>));\r\n    }\r\n\r\n    function showSlide(flagButton) {\r\n        let id = props.filteredData[count - 1].id;\r\n        if (flagButton && id !== props.filteredData[props.filteredData.length - 1].id) {\r\n            id++;\r\n            count++;\r\n            getAboutMovie(id);\r\n        }\r\n        else if (!flagButton && id !== props.filteredData[0].id) {\r\n            id--;\r\n            count--;\r\n            getAboutMovie(id);\r\n        }\r\n    }\r\n\r\n    function getMore(urlTrailer, getDetail) {\r\n        return (\r\n            <div className=\"slider-content__more get-more\">\r\n                <Link to={urlTrailer} className=\"get-more__item\" target=\"__blank\">\r\n                    <Trailer className={\"get-more__svg\"} />\r\n                    <span className=\"get-more__title\">Трейлер</span>\r\n                </Link>\r\n                <Link to={`/details/${getDetail}`} className=\"get-more__item\">\r\n                    <GetMore className={\"get-more__svg\"} />\r\n                    <span className=\"get-more__title\">Детальніше</span>\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {getAboutMovie()}\r\n            <MovieSlider getAboutMovie={getAboutMovie} filterData={props.filteredData} />\r\n            <button className=\"slick-arrow slick-prev arrow-mobile\" onClick={() => showSlide(false)}></button>\r\n            <button className=\"slick-arrow slick-next arrow-mobile\" onClick={() => showSlide(true)}></button>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}