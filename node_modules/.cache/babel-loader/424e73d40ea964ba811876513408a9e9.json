{"ast":null,"code":"import _slicedToArray from\"C:/Users/ddima/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/portfolio/cinema-park/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Login as LoginSvg}from\"../Svg/Svg\";import{users}from\"../../mockData/users\";import LoginModal from\"../LoginModal/LoginModal\";import\"../Login/Login.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setOpen=_useState2[1];var _users$filter=users.filter(function(user){return user.email===localStorage.user;}),_users$filter2=_slicedToArray(_users$filter,1),imgUser=_users$filter2[0];function changeModalState(){setOpen(isOpen?false:true);}function exit(){if(localStorage.user){localStorage.clear();window.location.reload();}}return/*#__PURE__*/_jsxs(_Fragment,{children:[!localStorage.user?/*#__PURE__*/_jsx(\"button\",{className:\"header__login header-login\",onClick:changeModalState,children:/*#__PURE__*/_jsx(LoginSvg,{className:\"header__svg\"})}):/*#__PURE__*/_jsx(\"button\",{className:\"header__login header-login\",onClick:exit,children:/*#__PURE__*/_jsx(\"img\",{src:imgUser.img,className:\"user-icon\"})}),!localStorage.user?/*#__PURE__*/_jsx(LoginModal,{isOpen:isOpen,changeState:changeModalState}):\"\"]});}","map":{"version":3,"sources":["C:/Users/ddima/OneDrive/Рабочий стол/portfolio/cinema-park/src/components/Login/Login.js"],"names":["React","useState","Login","LoginSvg","users","LoginModal","isOpen","setOpen","filter","user","email","localStorage","imgUser","changeModalState","exit","clear","window","location","reload","img"],"mappings":"wOAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,KAAK,GAAIC,CAAAA,QAAlB,KAAkC,YAAlC,CAEA,OAASC,KAAT,KAAsB,sBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAO,qBAAP,C,6IAEA,cAAe,SAASH,CAAAA,KAAT,EAAiB,CAC5B,cAA0BD,QAAQ,CAAC,KAAD,CAAlC,wCAAOK,MAAP,eAAeC,OAAf,eACA,kBAAkBH,KAAK,CAACI,MAAN,CAAa,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,KAAL,GAAeC,YAAY,CAACF,IAAhC,EAAjB,CAAlB,gDAAOG,OAAP,mBAEA,QAASC,CAAAA,gBAAT,EAA4B,CACxBN,OAAO,CAACD,MAAM,CAAG,KAAH,CAAW,IAAlB,CAAP,CACH,CAED,QAASQ,CAAAA,IAAT,EAAgB,CACZ,GAAIH,YAAY,CAACF,IAAjB,CAAuB,CACnBE,YAAY,CAACI,KAAb,GACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CACJ,CAED,mBACI,2BAEQ,CAACP,YAAY,CAACF,IAAd,cACM,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAEI,gBAAxD,uBACE,KAAC,QAAD,EAAU,SAAS,CAAE,aAArB,EADF,EADN,cAIM,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAEC,IAAxD,uBACE,YAAK,GAAG,CAAEF,OAAO,CAACO,GAAlB,CAAuB,SAAS,CAAC,WAAjC,EADF,EANd,CAWQ,CAACR,YAAY,CAACF,IAAd,cACM,KAAC,UAAD,EAAY,MAAM,CAAEH,MAApB,CAA4B,WAAW,CAAEO,gBAAzC,EADN,CAEM,EAbd,GADJ,CAkBH","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Login as LoginSvg } from \"../Svg/Svg\";\r\n\r\nimport { users } from \"../../mockData/users\";\r\nimport LoginModal from \"../LoginModal/LoginModal\";\r\nimport \"../Login/Login.scss\";\r\n\r\nexport default function Login() {\r\n    const [isOpen, setOpen] = useState(false);\r\n    const [imgUser] = users.filter(user => user.email === localStorage.user);\r\n\r\n    function changeModalState() {\r\n        setOpen(isOpen ? false : true);\r\n    }\r\n\r\n    function exit() {\r\n        if (localStorage.user) {\r\n            localStorage.clear();\r\n            window.location.reload();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !localStorage.user\r\n                    ? <button className=\"header__login header-login\" onClick={changeModalState}>\r\n                        <LoginSvg className={\"header__svg\"} />\r\n                    </button>\r\n                    : <button className=\"header__login header-login\" onClick={exit}>\r\n                        <img src={imgUser.img} className=\"user-icon\" />\r\n                    </button>\r\n            }\r\n            {\r\n                !localStorage.user\r\n                    ? <LoginModal isOpen={isOpen} changeState={changeModalState} />\r\n                    : \"\"\r\n            }\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}