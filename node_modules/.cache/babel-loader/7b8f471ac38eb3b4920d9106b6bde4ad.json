{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ddima\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\course\\\\beetroot-academy\\\\Loshkovetska\\\\cinema-park\\\\src\\\\components\\\\StoreModal\\\\StoreModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Exit, NextStep } from \"../Svg/Svg\";\nimport \"./StoreModal.scss\";\nimport { seatsVariants } from \"../../mockData/seats\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StoreModal(props) {\n  _s();\n\n  const [isResized, setResized] = useState(false);\n  const [tk, setTk] = useState([props.tickets]);\n  const [pr, setPr] = useState(props.products);\n  useEffect(() => {\n    const old = tk;\n    old.push(props.tickets);\n    console.log(old);\n    setTk(old);\n  });\n  const [fullDate, time] = props.dateTime;\n\n  function resizeModal() {\n    setResized(isResized ? false : true);\n  }\n\n  function getTypeOfSeat(type) {\n    const [seat] = seatsVariants.filter(seat => seat.title === type);\n    return seat.icon;\n  }\n\n  function getPriceOfSeat(type) {\n    const [seat] = seatsVariants.filter(seat => seat.title === type);\n    return seat.price;\n  }\n\n  function getTotalTicketPrice(tickets) {\n    console.log(tickets);\n    if (!tickets) return 0;\n    let total = 0;\n    [...tickets].forEach(ticket => {\n      total += getPriceOfSeat(ticket.type);\n    });\n    return total;\n  }\n\n  function getTotalMarketPrice(products) {\n    if (!products) return 0;\n    let total = 0; // products.forEach(ticket => {\n    //     total += getPriceOfSeat(ticket.type);\n    // });\n\n    return total;\n  }\n\n  function getTotalCount(tickets, products) {\n    return getTotalTicketPrice(tickets) + getTotalMarketPrice(products);\n  }\n\n  function deleteTicket(e) {\n    const id = e.currentTarget.dataset.idrow;\n    const tickets = props.tickets;\n    tickets.splice(id, 1);\n    props.updateTickets(tickets);\n  }\n\n  function deleteProduct(e) {\n    const id = e.currentTarget.dataset.idrow;\n    const products = props.products;\n    products.splice(id, 1);\n    console.log(products, id);\n    props.updateProducts(products);\n  }\n\n  function getTicketsList() {\n    return tk.map((ticket, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"tickets-table__row\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"tickets-table__col\",\n        children: getTypeOfSeat(ticket.type)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"tickets-table__col\",\n        children: ticket.row\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"tickets-table__col\",\n        children: ticket.seat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"tickets-table__col\",\n        children: fullDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"tickets-table__col\",\n        children: time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"tickets-table__col\",\n        children: getPriceOfSeat(ticket.type)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"tickets-table__col\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"tickets-table__button\",\n          \"data-idrow\": index,\n          onClick: deleteTicket,\n          children: /*#__PURE__*/_jsxDEV(Exit, {\n            className: \"table-delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this));\n  }\n\n  function getProductsList() {\n    return props.tickets.map((ticket, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"market-table__row\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"market-table__col\",\n        children: getTypeOfSeat(ticket.type)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"market-table__col\",\n        children: ticket.row\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"market-table__col\",\n        children: ticket.seat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"market-table__col\",\n        children: fullDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"market-table__col\",\n        children: time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"market-table__col\",\n        children: getPriceOfSeat(ticket.type)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"market-table__col\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"market-table__button\",\n          \"data-id-row\": index,\n          children: /*#__PURE__*/_jsxDEV(Exit, {\n            className: \"table-delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"pop-up-store\" + (props.show ? \" pop-up-store--show\" : \"\") + (isResized ? \" pop-up-store--resize\" : \"\"),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pop-up-store__content\" + (isResized ? \" pop-up-store__content--show\" : \"\"),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pop-up-store__button\",\n        onClick: resizeModal,\n        children: /*#__PURE__*/_jsxDEV(Exit, {\n          className: \"modal-exit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"pop-up-store__tickets tickets-sect\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tickets-sect__top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tickets-sect__title\",\n            children: \"\\u041A\\u0432\\u0438\\u0442\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tickets-sect__price\",\n            children: [tk.length, \"\\u0448\\u0442, \", getTotalTicketPrice(tk), \"\\u0433\\u0440\\u043D\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"tickets-sect__table tickets-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"tickets-table__thead\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"tickets-table__thead-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"tickets-table__thead-col\",\n                children: \"\\u0422\\u0438\\u043F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"tickets-table__thead-col\",\n                children: \"\\u0420\\u044F\\u0434\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"tickets-table__thead-col\",\n                children: \"\\u041C\\u0456\\u0441\\u0446\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"tickets-table__thead-col\",\n                children: \"\\u0414\\u0430\\u0442\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"tickets-table__thead-col\",\n                children: \"\\u0427\\u0430\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"tickets-table__thead-col\",\n                children: \"\\u0412\\u0430\\u0440\\u0442\\u0456\\u0441\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"tickets-table__thead-col\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"tickets-table__rows\",\n            children: getTicketsList()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"pop-up-store__tickets market-sect\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"market-sect__top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"market-sect__title\",\n            children: \"\\u041A\\u0456\\u043D\\u043E\\u043C\\u0430\\u0440\\u043A\\u0435\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"market-sect__price\",\n            children: \"\\u0448\\u0442, \\u0433\\u0440\\u043D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"market-sect__table market-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"market-table__thead\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"tickets-table__thead-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"market-table__thead-col\",\n                children: \"\\u0417\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"market-table__thead-col\",\n                children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"market-table__thead-col\",\n                children: \"\\u041A\\u0456\\u043B\\u044C\\u043A\\u0456\\u0441\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"market-table__thead-col\",\n                children: \"\\u041E\\u0431\\u0454\\u043C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"market-table__thead-col\",\n                children: \"\\u0412\\u0430\\u0440\\u0442\\u0456\\u0441\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"market-table__thead-col\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"market-table__rows\",\n            children: getProductsList()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pop-up-store__bottom\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pop-up-store__resize-button\" + !isResized ? \" pop-up-store__resize-button--show\" : \"\",\n        onClick: resizeModal,\n        children: /*#__PURE__*/_jsxDEV(NextStep, {\n          class: \"pop-arrow-up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pop-up-store__general-price\",\n        children: [\"\\u0412\\u0441\\u044C\\u043E\\u0433\\u043E: \", getTotalCount(tk, pr), \" \\u0433\\u0440\\u043D\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pop-up-store__count\" + (!isResized ? \" pop-up-store__count--show\" : \"\"),\n        children: [\"\\u041A\\u0432\\u0438\\u0442\\u043A\\u0438: \", props.tickets.length, \"x\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pop-up-store__count\" + (!isResized ? \" pop-up-store__count--show\" : \"\"),\n        children: \"\\u041A\\u0456\\u043D\\u043E\\u043C\\u0430\\u0440\\u043A\\u0435\\u0442: x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button-next\",\n        type: \"submit\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"button-text\",\n          children: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u0432\\u0436\\u0438\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NextStep, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, this);\n}\n\n_s(StoreModal, \"QhWe31iZypWG0T5a4dckuXGrZnE=\");\n\n_c = StoreModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreModal\");","map":{"version":3,"sources":["C:/Users/ddima/OneDrive/Рабочий стол/course/beetroot-academy/Loshkovetska/cinema-park/src/components/StoreModal/StoreModal.js"],"names":["React","useEffect","useState","Exit","NextStep","seatsVariants","StoreModal","props","isResized","setResized","tk","setTk","tickets","pr","setPr","products","old","push","console","log","fullDate","time","dateTime","resizeModal","getTypeOfSeat","type","seat","filter","title","icon","getPriceOfSeat","price","getTotalTicketPrice","total","forEach","ticket","getTotalMarketPrice","getTotalCount","deleteTicket","e","id","currentTarget","dataset","idrow","splice","updateTickets","deleteProduct","updateProducts","getTicketsList","map","index","row","getProductsList","show","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Exit, NextStep } from \"../Svg/Svg\";\r\nimport \"./StoreModal.scss\";\r\nimport { seatsVariants } from \"../../mockData/seats\";\r\n\r\nexport default function StoreModal(props) {\r\n    const [isResized, setResized] = useState(false);\r\n    const [tk, setTk] = useState([props.tickets]);\r\n    const [pr, setPr] = useState(props.products);\r\n\r\n\r\n    useEffect(() => {\r\n        const old = tk;\r\n        old.push(props.tickets);\r\n        console.log(old);\r\n\r\n        setTk(old);\r\n    });\r\n\r\n    const [fullDate, time] = props.dateTime;\r\n\r\n    function resizeModal() {\r\n        setResized(isResized ? false : true);\r\n    }\r\n\r\n    function getTypeOfSeat(type) {\r\n        const [seat] = seatsVariants.filter(seat => seat.title === type);\r\n        return seat.icon;\r\n    }\r\n\r\n    function getPriceOfSeat(type) {\r\n        const [seat] = seatsVariants.filter(seat => seat.title === type);\r\n        return seat.price;\r\n    }\r\n\r\n    function getTotalTicketPrice(tickets) {\r\n        console.log(tickets);\r\n        if (!tickets) return 0;\r\n        let total = 0;\r\n\r\n        [...tickets].forEach(ticket => {\r\n            total += getPriceOfSeat(ticket.type);\r\n        });\r\n\r\n        return total;\r\n    }\r\n\r\n    function getTotalMarketPrice(products) {\r\n        if (!products) return 0;\r\n        let total = 0;\r\n\r\n        // products.forEach(ticket => {\r\n        //     total += getPriceOfSeat(ticket.type);\r\n        // });\r\n\r\n        return total;\r\n    }\r\n\r\n    function getTotalCount(tickets, products) {\r\n        return getTotalTicketPrice(tickets) + getTotalMarketPrice(products);\r\n    }\r\n\r\n    function deleteTicket(e) {\r\n        const id = e.currentTarget.dataset.idrow;\r\n        const tickets = props.tickets;\r\n        tickets.splice(id, 1);\r\n        props.updateTickets(tickets);\r\n    }\r\n\r\n    function deleteProduct(e) {\r\n        const id = e.currentTarget.dataset.idrow;\r\n        const products = props.products;\r\n        products.splice(id, 1);\r\n        console.log(products, id);\r\n        props.updateProducts(products);\r\n    }\r\n\r\n    function getTicketsList() {\r\n        return tk.map((ticket, index) => (\r\n            <tr className=\"tickets-table__row\" key={index}>\r\n                <td className=\"tickets-table__col\">{getTypeOfSeat(ticket.type)}</td>\r\n                <td className=\"tickets-table__col\">{ticket.row}</td>\r\n                <td className=\"tickets-table__col\">{ticket.seat}</td>\r\n                <td className=\"tickets-table__col\">{fullDate}</td>\r\n                <td className=\"tickets-table__col\">{time}</td>\r\n                <td className=\"tickets-table__col\">{getPriceOfSeat(ticket.type)}</td>\r\n                <td className=\"tickets-table__col\">\r\n                    <button className=\"tickets-table__button\" data-idrow={index} onClick={deleteTicket}>\r\n                        <Exit className=\"table-delete\" />\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        ));\r\n    }\r\n\r\n    function getProductsList() {\r\n        return props.tickets.map((ticket, index) => (\r\n            <tr className=\"market-table__row\" key={index}>\r\n                <td className=\"market-table__col\">{getTypeOfSeat(ticket.type)}</td>\r\n                <td className=\"market-table__col\">{ticket.row}</td>\r\n                <td className=\"market-table__col\">{ticket.seat}</td>\r\n                <td className=\"market-table__col\">{fullDate}</td>\r\n                <td className=\"market-table__col\">{time}</td>\r\n                <td className=\"market-table__col\">{getPriceOfSeat(ticket.type)}</td>\r\n                <td className=\"market-table__col\">\r\n                    <button className=\"market-table__button\" data-id-row={index}>\r\n                        <Exit className=\"table-delete\" />\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        )\r\n        );\r\n    }\r\n\r\n    return (\r\n\r\n        <section className={\"pop-up-store\" + (props.show ? \" pop-up-store--show\" : \"\")\r\n            + (isResized ? \" pop-up-store--resize\" : \"\")}>\r\n            <div className={\"pop-up-store__content\" + (isResized ? \" pop-up-store__content--show\" : \"\")}>\r\n                <button className=\"pop-up-store__button\" onClick={resizeModal}>\r\n                    <Exit className=\"modal-exit\" />\r\n                </button>\r\n                <section className=\"pop-up-store__tickets tickets-sect\">\r\n                    <div className=\"tickets-sect__top\">\r\n                        <div className=\"tickets-sect__title\">Квитки</div>\r\n                        <div className=\"tickets-sect__price\">{tk.length}шт, {getTotalTicketPrice(tk)}грн</div>\r\n                    </div>\r\n                    <table className=\"tickets-sect__table tickets-table\">\r\n                        <thead className=\"tickets-table__thead\">\r\n                            <tr className=\"tickets-table__thead-row\">\r\n                                <th className=\"tickets-table__thead-col\">Тип</th>\r\n                                <th className=\"tickets-table__thead-col\">Ряд</th>\r\n                                <th className=\"tickets-table__thead-col\">Місце</th>\r\n                                <th className=\"tickets-table__thead-col\">Дата</th>\r\n                                <th className=\"tickets-table__thead-col\">Час</th>\r\n                                <th className=\"tickets-table__thead-col\">Вартість</th>\r\n                                <th className=\"tickets-table__thead-col\"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"tickets-table__rows\">\r\n                            {getTicketsList()}\r\n                        </tbody>\r\n                    </table>\r\n                </section>\r\n                <section className=\"pop-up-store__tickets market-sect\">\r\n                    <div className=\"market-sect__top\">\r\n                        <div className=\"market-sect__title\">Кіномаркет</div>\r\n                        <div className=\"market-sect__price\">шт, грн</div>\r\n                    </div>\r\n                    <table className=\"market-sect__table market-table\">\r\n                        <thead className=\"market-table__thead\">\r\n                            <tr className=\"tickets-table__thead-row\">\r\n                                <th className=\"market-table__thead-col\">Зображення</th>\r\n                                <th className=\"market-table__thead-col\">Назва</th>\r\n                                <th className=\"market-table__thead-col\">Кількість</th>\r\n                                <th className=\"market-table__thead-col\">Обєм</th>\r\n                                <th className=\"market-table__thead-col\">Вартість</th>\r\n                                <th className=\"market-table__thead-col\"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"market-table__rows\">\r\n                            {getProductsList()}\r\n                        </tbody>\r\n                    </table>\r\n                </section>\r\n            </div>\r\n            <div className=\"pop-up-store__bottom\">\r\n                <button className={\"pop-up-store__resize-button\" +\r\n                    (!isResized) ? \" pop-up-store__resize-button--show\" : \"\"} onClick={resizeModal}>\r\n                    <NextStep class=\"pop-arrow-up\" />\r\n                </button>\r\n                <div className=\"pop-up-store__general-price\">Всього: {getTotalCount(tk, pr)} грн</div>\r\n                <div className={\"pop-up-store__count\" + (!isResized ? \" pop-up-store__count--show\" : \"\")}>Квитки: {props.tickets.length}x</div>\r\n                <div className={\"pop-up-store__count\" + (!isResized ? \" pop-up-store__count--show\" : \"\")}>Кіномаркет: x</div>\r\n                <button className=\"button-next\" type=\"submit\">\r\n                    <span className=\"button-text\">Продовжити</span>\r\n                    <NextStep />\r\n                </button>\r\n            </div>\r\n        </section>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}