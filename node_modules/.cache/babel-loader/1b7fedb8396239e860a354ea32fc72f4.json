{"ast":null,"code":"import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import\"../ContactTab/ContactTab.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ContactTab(props){var history=useHistory();function validData(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var data1=args[0],data2=args[1],param=args[2];if(data1.value!==data2.value){param===\"email\"?alert(\"E-mail не співпадають!\"):alert(\"Паролі не співпадають!\");return false;}return true;}function getUserData(e){e.preventDefault();var form=e.target.elements;if(!validData(form[\"user-email\"],form[\"user-repEmail\"],\"email\")||!validData(form[\"user-pass\"],form[\"user-repPass\"],\"pass\")){return;}var properties={email:form[\"user-email\"].value,tel:form[\"user-tel\"].value,password:form[\"user-pass\"].value};var result=Object.assign(properties,props.personalData);postOnServer(result);}function postOnServer(data){fetch(\"https://httpbin.org/post\",{method:'post',body:JSON.stringify(data)}).then(function(response){if(response.ok){return response.json();}else throw new Error(\"HTTP status \"+response.status+\" \"+response.statusText);},function(reject){throw new Error(reject);}).then(function(result){alert(\"\".concat(result.json[\"name\"],\" \").concat(result.json[\"surname\"],\" \\u0440\\u0430\\u0434\\u0456 \\u0412\\u0430\\u0441 \\u0432\\u0456\\u0442\\u0430\\u0442\\u0438 \\u0443 \\u043D\\u0430\\u0448\\u043E\\u043C\\u0443 \\u043A\\u0456\\u043D\\u043E\\u043A\\u043B\\u0443\\u0431\\u0456!\"));history.push(\"/home\");}).catch(function(e){if(e.message==='TypeError: Failed to fetch'){alert(\"Something's gone wrong\");}});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form form--contact\",method:\"POST\",encType:\"multipart/form-data\",onSubmit:getUserData,children:[/*#__PURE__*/_jsx(\"div\",{className:\"contact-tab__sub-title\",children:\"\\u042F\\u043A \\u0437 \\u0432\\u0430\\u043C\\u0438 \\u0437\\u0432\\u2019\\u044F\\u0437\\u0430\\u0442\\u0438\\u0441\\u044F\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user-email\",placeholder:\"E-mail\",className:\"input input--focus\",required:true,autoComplete:\"off\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user-repEmail\",placeholder:\"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0456\\u0442\\u044C E-mail\",className:\"input input--focus\",required:true,autoComplete:\"off\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"user-tel\",className:\"input input--focus\",placeholder:\"+380XXXXXXXXX\",required:true,autoComplete:\"off\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"contact-tab__sub-title\",children:\"\\u0412\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0456\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"user-pass\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"input input--focus\",required:true,autoComplete:\"off\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"user-repPass\",placeholder:\"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0456\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"input input--focus\",required:true,autoComplete:\"off\"})}),/*#__PURE__*/_jsxs(\"label\",{className:\"label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"remember\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"\\u042F \\u0445\\u043E\\u0447\\u0443 \\u043E\\u0442\\u0440\\u0438\\u043C\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0440\\u043E\\u0437\\u0441\\u043B\\u0438\\u043A\\u0443 \\u0432\\u0456\\u0434 \\u201CCinemaPark\\u201D \"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"remember\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"\\u042F \\u043E\\u0437\\u043D\\u0430\\u0439\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u0439(\\u043D\\u0430) \\u0442\\u0430 \\u043F\\u0440\\u0438\\u0439\\u043C\\u0430\\u044E \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430 \\u0422\\u041E\\u0412 \\u201CCinemaPark\\u201D\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button-sub\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0454\\u0441\\u0442\\u0440\\u0443\\u0432\\u0430\\u0442\\u0438\\u0441\\u044F\"})]})});}","map":{"version":3,"sources":["C:/Users/ddima/OneDrive/Рабочий стол/portfolio/cinema-park/src/components/ContactTab/ContactTab.js"],"names":["React","useState","useHistory","ContactTab","props","history","validData","args","data1","data2","param","value","alert","getUserData","e","preventDefault","form","target","elements","properties","email","tel","password","result","Object","assign","personalData","postOnServer","data","fetch","method","body","JSON","stringify","then","response","ok","json","Error","status","statusText","reject","push","catch","message"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"../ContactTab/ContactTab.scss\";\r\n\r\nexport default function ContactTab(props) {\r\n    const history = useHistory();\r\n\r\n    function validData(...args) {\r\n        const [data1, data2, param] = args;\r\n\r\n        if (data1.value !== data2.value) {\r\n            param === \"email\" ?\r\n                alert(\"E-mail не співпадають!\") :\r\n                alert(\"Паролі не співпадають!\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function getUserData(e) {\r\n        e.preventDefault();\r\n\r\n        const form = e.target.elements;\r\n        if (!validData(form[\"user-email\"], form[\"user-repEmail\"], \"email\") ||\r\n            !validData(form[\"user-pass\"], form[\"user-repPass\"], \"pass\")) {\r\n            return;\r\n        }\r\n\r\n        const properties = {\r\n            email: form[\"user-email\"].value,\r\n            tel: form[\"user-tel\"].value,\r\n            password: form[\"user-pass\"].value\r\n        };\r\n\r\n        const result = Object.assign(properties, props.personalData);\r\n        postOnServer(result);\r\n    }\r\n\r\n    function postOnServer(data) {\r\n        fetch(\"https://httpbin.org/post\", {\r\n            method: 'post',\r\n            body: JSON.stringify(data)\r\n        }).then(\r\n            response => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n                else throw new Error(\"HTTP status \" + response.status + \" \" + response.statusText);\r\n            },\r\n            reject => {\r\n                throw new Error(reject);\r\n            })\r\n            .then(result => {\r\n                alert(`${result.json[\"name\"]} ${result.json[\"surname\"]} раді Вас вітати у нашому кіноклубі!`);\r\n                history.push(\"/home\");\r\n            }).catch(e => {\r\n                if (e.message === 'TypeError: Failed to fetch') {\r\n                    alert(\"Something's gone wrong\");\r\n                }\r\n            });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form className=\"form form--contact\" method=\"POST\" encType=\"multipart/form-data\" onSubmit={getUserData}>\r\n                <div className=\"contact-tab__sub-title\">Як з вами зв’язатися</div>\r\n                <label className=\"label\">\r\n                    <input type=\"text\" name=\"user-email\" placeholder=\"E-mail\" className=\"input input--focus\" required autoComplete=\"off\" />\r\n                </label>\r\n                <label className=\"label\">\r\n                    <input type=\"text\" name=\"user-repEmail\" placeholder=\"Підтвердіть E-mail\" className=\"input input--focus\" required autoComplete=\"off\" />\r\n                </label>\r\n                <label className=\"label\">\r\n                    <input\r\n                        type=\"tel\" name=\"user-tel\"\r\n                        className=\"input input--focus\"\r\n                        placeholder=\"+380XXXXXXXXX\"\r\n                        required autoComplete=\"off\" />\r\n                </label>\r\n                <div className=\"contact-tab__sub-title\">Встановіть пароль</div>\r\n                <label className=\"label\">\r\n                    <input type=\"password\" name=\"user-pass\" placeholder=\"Пароль\" className=\"input input--focus\" required autoComplete=\"off\" />\r\n                </label>\r\n                <label className=\"label\">\r\n                    <input type=\"password\" name=\"user-repPass\" placeholder=\"Підтвердіть пароль\" className=\"input input--focus\" required autoComplete=\"off\" />\r\n                </label>\r\n                <label className=\"label\">\r\n                    <input type=\"checkbox\" name=\"remember\" className=\"checkbox\" />\r\n                    <span className=\"label-text\">Я хочу отримувати розслику від “CinemaPark” </span>\r\n                </label>\r\n                <label className=\"label\">\r\n                    <input type=\"checkbox\" name=\"remember\" className=\"checkbox\" />\r\n                    <span className=\"label-text\">Я ознайомлений(на) та приймаю правила ТОВ “CinemaPark”</span>\r\n                </label>\r\n                <button className=\"button-sub\">Зареєструватися</button>\r\n            </form>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}