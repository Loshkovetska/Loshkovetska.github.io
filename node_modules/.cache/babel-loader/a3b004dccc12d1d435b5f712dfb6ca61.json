{"ast":null,"code":"import _slicedToArray from\"C:/Users/ddima/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/course/beetroot-academy/Loshkovetska/cinema-park/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import goods from\"../../mockData/goods\";import\"./Products.scss\";import Select from\"../../common/DefaultSelect/DefaultSelect\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Product(props){var good=props.good;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),countProduct=_useState2[0],setCount=_useState2[1];var _useState3=useState(\"S\"),_useState4=_slicedToArray(_useState3,2),sizeProduct=_useState4[0],setSize=_useState4[1];function getSelectedValue(value){setSize(value);}function addProduct(e){var count=countProduct;setCount(++count);var _goods$filter=goods.filter(function(good){return good.id==e.currentTarget.dataset.id;}),_goods$filter2=_slicedToArray(_goods$filter,1),productInfo=_goods$filter2[0];productInfo.size=sizeProduct;productInfo.count=count;props.getProduct(productInfo);}function removeProduct(e){var count=countProduct;setCount(countProduct>0?--count:0);if(count!==0){var _goods$filter3=goods.filter(function(good){return good.id==e.currentTarget.dataset.id;}),_goods$filter4=_slicedToArray(_goods$filter3,1),productInfo=_goods$filter4[0];productInfo.size=sizeProduct;productInfo.count=count;props.getProduct(productInfo);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"good\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"good__image\",children:/*#__PURE__*/_jsx(\"img\",{src:good.img,alt:\"img-food\",className:\"img-good\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"good__info good-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"good-info__title\",children:good.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"good-info__price\",children:[good.price,\" \\u0433\\u0440\\u043D\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"good__bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"good__size-select\",children:/*#__PURE__*/_jsx(Select,{selectedVal:getSelectedValue})}),/*#__PURE__*/_jsxs(\"div\",{className:\"good__count\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"good__button\",onClick:removeProduct,\"data-id\":good.id,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"good__count-value\",children:countProduct}),/*#__PURE__*/_jsx(\"button\",{className:\"good__button\",onClick:addProduct,\"data-id\":good.id,children:\"+\"})]})]})]});}var products=new Set();export default function Products(props){var size=\"\";var _useState5=useState(goods),_useState6=_slicedToArray(_useState5,2),productsFilter=_useState6[0],setFilterProducts=_useState6[1];function getProduct(product){products.add(product);props.getProducts(products);}function getListGoods(){return productsFilter.map(function(good,index){return/*#__PURE__*/_jsx(Product,{good:good,getProduct:getProduct},index);});}function filterData(param){if(!param){setFilterProducts(goods);return;}var productsList=goods.filter(function(good){return good.kind===param;});setFilterProducts(productsList);}return/*#__PURE__*/_jsxs(\"section\",{className:\"cinema-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cinema-menu__title\",children:\"\\u041A\\u0456\\u043D\\u043E\\u043C\\u0435\\u043D\\u044E:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"cinema-menu__list-filters filters\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"filters__item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"filters__link\",href:\"#\",onClick:function onClick(){return filterData();},children:\"\\u0412\\u0441\\u0435\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"filters__item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"filters__link\",href:\"#\",onClick:function onClick(){return filterData(\"попкорн\");},children:\"\\u041F\\u043E\\u043F\\u043A\\u043E\\u0440\\u043D\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"filters__item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"filters__link\",href:\"#\",onClick:function onClick(){return filterData(\"напої\");},children:\"\\u041D\\u0430\\u043F\\u043E\\u0457\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cinema-menu__list-goods\",children:getListGoods()})]});}","map":{"version":3,"sources":["C:/Users/ddima/OneDrive/Рабочий стол/course/beetroot-academy/Loshkovetska/cinema-park/src/components/Products/Products.js"],"names":["React","useState","goods","Select","Product","props","good","countProduct","setCount","sizeProduct","setSize","getSelectedValue","value","addProduct","e","count","filter","id","currentTarget","dataset","productInfo","size","getProduct","removeProduct","img","title","price","products","Set","Products","productsFilter","setFilterProducts","product","add","getProducts","getListGoods","map","index","filterData","param","productsList","kind"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport goods from \"../../mockData/goods\";\r\nimport \"./Products.scss\";\r\nimport Select from \"../../common/DefaultSelect/DefaultSelect\";\r\n\r\nexport function Product(props) {\r\n    const good = props.good;\r\n\r\n    const [countProduct, setCount] = useState(0);\r\n    const [sizeProduct, setSize] = useState(\"S\");\r\n\r\n    function getSelectedValue(value) {\r\n        setSize(value);\r\n    }\r\n\r\n    function addProduct(e) {\r\n        let count = countProduct;\r\n        setCount(++count);\r\n        let [productInfo] = goods.filter(good => good.id == e.currentTarget.dataset.id);\r\n        productInfo.size = sizeProduct;\r\n        productInfo.count = count;\r\n        props.getProduct(productInfo);\r\n    }\r\n\r\n    function removeProduct(e) {\r\n        let count = countProduct;\r\n        setCount(countProduct > 0 ? --count : 0);\r\n\r\n        if (count !== 0) {\r\n            let [productInfo] = goods.filter(good => good.id == e.currentTarget.dataset.id);\r\n            productInfo.size = sizeProduct;\r\n            productInfo.count = count;\r\n            props.getProduct(productInfo);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"good\">\r\n            <div className=\"good__image\">\r\n                <img src={good.img} alt=\"img-food\" className=\"img-good\" />\r\n            </div>\r\n            <div className=\"good__info good-info\">\r\n                <div className=\"good-info__title\">{good.title}</div>\r\n                <div className=\"good-info__price\">{good.price} грн</div>\r\n            </div>\r\n            <div className=\"good__bottom\">\r\n                <div className=\"good__size-select\"><Select selectedVal={getSelectedValue} /></div>\r\n                <div className=\"good__count\">\r\n                    <button className=\"good__button\" onClick={removeProduct} data-id={good.id}>-</button>\r\n                    <span className=\"good__count-value\">{countProduct}</span>\r\n                    <button className=\"good__button\" onClick={addProduct} data-id={good.id}>+</button>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    );\r\n}\r\n\r\nconst products = new Set();\r\nexport default function Products(props) {\r\n    let size = \"\";\r\n    const [productsFilter, setFilterProducts] = useState(goods);\r\n\r\n\r\n    function getProduct(product) {\r\n        products.add(product);\r\n        props.getProducts(products);\r\n    }\r\n\r\n    function getListGoods() {\r\n        return (\r\n            productsFilter.map((good, index) => (\r\n                <Product good={good} key={index} getProduct={getProduct} />\r\n            ))\r\n        );\r\n    }\r\n\r\n    function filterData(param) {\r\n        if (!param) {\r\n            setFilterProducts(goods);\r\n            return;\r\n        }\r\n\r\n        let productsList = goods.filter(good => good.kind === param);\r\n        setFilterProducts(productsList);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <section className=\"cinema-menu\">\r\n            <div className=\"cinema-menu__title\">Кіноменю:</div>\r\n            <ul className=\"cinema-menu__list-filters filters\">\r\n                <li className=\"filters__item\">\r\n                    <a className=\"filters__link\" href=\"#\" onClick={() => filterData()}>Все</a>\r\n                </li>\r\n                <li className=\"filters__item\">\r\n                    <a className=\"filters__link\" href=\"#\" onClick={() => filterData(\"попкорн\")}>Попкорн</a>\r\n                </li>\r\n                <li className=\"filters__item\">\r\n                    <a className=\"filters__link\" href=\"#\" onClick={() => filterData(\"напої\")}>Напої</a>\r\n                </li>\r\n            </ul>\r\n            <div className=\"cinema-menu__list-goods\">\r\n                {getListGoods()}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}