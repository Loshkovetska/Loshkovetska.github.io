{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ddima\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\course\\\\beetroot-academy\\\\Loshkovetska\\\\cinema-park\\\\src\\\\components\\\\Comments\\\\Comments.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport comments from \"../../mockData/comments\";\nimport \"./Comments.scss\";\nimport { users } from \"../../mockData/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Heart = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"22\",\n  height: \"19\",\n  viewBox: \"0 0 22 19\",\n  fill: \"#fff\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.5782 3.46844L11 4.13131L11.4218 3.46844C12.3796 1.9634 14.0701 1 16 1C19.0239 1 21.5 3.47614 21.5 6.5C21.5 7.84956 20.8788 9.24594 19.878 10.6106C18.8811 11.97 17.541 13.2522 16.1834 14.363C14.8282 15.4718 13.4706 16.3977 12.4503 17.0469C11.9407 17.3712 11.5164 17.6258 11.2204 17.7988C11.1366 17.8477 11.0632 17.8901 11.001 17.9257C10.9386 17.8898 10.865 17.847 10.781 17.7975C10.4848 17.6232 10.0605 17.3669 9.55082 17.0406C8.53042 16.3874 7.17254 15.4567 5.81714 14.3447C4.45927 13.2306 3.11886 11.9466 2.12172 10.5892C1.12048 9.22611 0.5 7.83624 0.5 6.5C0.5 3.47614 2.97614 1 6 1C7.92993 1 9.62042 1.9634 10.5782 3.46844Z\",\n    stroke: \"white\",\n    strokeOpacity: \"0.8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 5\n}, this);\n_c = Heart;\nexport default function Comments() {\n  _s();\n\n  const [comment, setComment] = useState();\n  const [countComments, setCount] = useState(comments.length);\n  const [likes, setLikes] = useState(0);\n  const userName = users.filter(user => user.email === localStorage.getItem(\"email\"));\n\n  function onChangeHadler(e) {\n    setComment(e.target.value);\n  }\n\n  function addComment() {\n    comments.push({\n      author: userName,\n      text: comment,\n      countLikes: 0,\n      date: new Date().toLocaleDateString('ru-RU')\n    });\n    setCount(comments.length);\n  }\n\n  function putLike(e) {\n    let ind = +e.target.dataset.index;\n    console.log(ind);\n    comments[ind].countLikes = +comments[ind].countLikes + 1;\n    setLikes(comments[ind].countLikes);\n  }\n\n  function getComment(author, date, text, countLikes, index) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment__top\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment__author\",\n          children: author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment__date\",\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"comment__text\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment__bottom\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: putLike,\n          className: \"button button--like\",\n          \"data-index\": index,\n          children: [/*#__PURE__*/_jsxDEV(Heart, {\n            className: \"heart-svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"button-text\",\n            children: countLikes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments__count\",\n        children: [\"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0456 (\", countComments, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments__input\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          required: true,\n          className: \"input input--comment\",\n          onChange: onChangeHadler,\n          placeholder: \"\\u041D\\u0430\\u043F\\u0438\\u0448\\u0456\\u0442\\u044C \\u0441\\u0432\\u043E\\u0457 \\u0432\\u0440\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F \\u0432\\u0456\\u0434  \\u043F\\u0435\\u0440\\u0435\\u0433\\u043B\\u044F\\u0434\\u0443 \\u0444\\u0456\\u043B\\u044C\\u043C\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button button--comment\",\n          onClick: addComment,\n          children: \"\\u0412\\u0456\\u0434\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments__output\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comments__old\",\n          children: comments.map((comment, index) => getComment(comment.author, comment.date, comment.text, comment.countLikes, index))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Comments, \"OJEUhmRxu3H5JS7udWTWGXEEh+k=\");\n\n_c2 = Comments;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Heart\");\n$RefreshReg$(_c2, \"Comments\");","map":{"version":3,"sources":["C:/Users/ddima/OneDrive/Рабочий стол/course/beetroot-academy/Loshkovetska/cinema-park/src/components/Comments/Comments.js"],"names":["React","useState","comments","users","Heart","className","Comments","comment","setComment","countComments","setCount","length","likes","setLikes","userName","filter","user","email","localStorage","getItem","onChangeHadler","e","target","value","addComment","push","author","text","countLikes","date","Date","toLocaleDateString","putLike","ind","dataset","index","console","log","getComment","map"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport comments from \"../../mockData/comments\";\r\nimport \"./Comments.scss\";\r\nimport { users } from \"../../mockData/users\";\r\n\r\nexport const Heart = ({ className }) => (\r\n    <svg width=\"22\" height=\"19\" viewBox=\"0 0 22 19\" fill=\"#fff\" xmlns=\"http://www.w3.org/2000/svg\"\r\n        className={className}>\r\n        <path d=\"M10.5782 3.46844L11 4.13131L11.4218 3.46844C12.3796 1.9634 14.0701 1 16 1C19.0239 1 21.5 3.47614 21.5 6.5C21.5 7.84956 20.8788 9.24594 19.878 10.6106C18.8811 11.97 17.541 13.2522 16.1834 14.363C14.8282 15.4718 13.4706 16.3977 12.4503 17.0469C11.9407 17.3712 11.5164 17.6258 11.2204 17.7988C11.1366 17.8477 11.0632 17.8901 11.001 17.9257C10.9386 17.8898 10.865 17.847 10.781 17.7975C10.4848 17.6232 10.0605 17.3669 9.55082 17.0406C8.53042 16.3874 7.17254 15.4567 5.81714 14.3447C4.45927 13.2306 3.11886 11.9466 2.12172 10.5892C1.12048 9.22611 0.5 7.83624 0.5 6.5C0.5 3.47614 2.97614 1 6 1C7.92993 1 9.62042 1.9634 10.5782 3.46844Z\" stroke=\"white\" strokeOpacity=\"0.8\" />\r\n    </svg>\r\n);\r\n\r\n\r\nexport default function Comments() {\r\n    const [comment, setComment] = useState();\r\n    const [countComments, setCount] = useState(comments.length);\r\n    const [likes, setLikes] = useState(0);\r\n    const userName = users.filter(user => user.email === localStorage.getItem(\"email\"));\r\n\r\n\r\n    function onChangeHadler(e) {\r\n        setComment(e.target.value);\r\n    }\r\n\r\n    function addComment() {\r\n        comments.push(\r\n            {\r\n                author: userName,\r\n                text: comment, countLikes: 0,\r\n                date: new Date().toLocaleDateString('ru-RU')\r\n            }\r\n        );\r\n\r\n        setCount(comments.length);\r\n    }\r\n\r\n    function putLike(e) {\r\n        let ind = +e.target.dataset.index;\r\n        console.log(ind);\r\n        comments[ind].countLikes = +comments[ind].countLikes + 1;\r\n\r\n        setLikes(comments[ind].countLikes);\r\n\r\n\r\n    }\r\n\r\n    function getComment(author, date, text, countLikes, index) {\r\n        return (\r\n            <div className=\"comment\" key={index}>\r\n                <div className=\"comment__top\">\r\n                    <div className=\"comment__author\">{author}</div>\r\n                    <div className=\"comment__date\">{date}</div>\r\n                </div>\r\n                <p className=\"comment__text\">{text}</p>\r\n                <div className=\"comment__bottom\">\r\n                    <button onClick={putLike} className=\"button button--like\" data-index={index}>\r\n                        <Heart className=\"heart-svg\" />\r\n                        <span className=\"button-text\">{countLikes}</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"comments\">\r\n            <div className=\"comments__container\">\r\n                <div className=\"comments__count\">Коментарі ({countComments})</div>\r\n                <div className=\"comments__input\">\r\n                    <textarea required className=\"input input--comment\" onChange={onChangeHadler}\r\n                        placeholder=\"Напишіть свої враження від  перегляду фільму\" />\r\n                    <button className=\"button button--comment\" onClick={addComment}>Відправити</button>\r\n                </div>\r\n                <div className=\"comments__output\">\r\n                    <div className=\"comments__old\">\r\n                        {\r\n                            comments.map((comment, index) => getComment(comment.author, comment.date, comment.text, comment.countLikes, index))\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}