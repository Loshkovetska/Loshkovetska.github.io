{"ast":null,"code":"import React,{useState}from\"react\";import ReactTooltip from'react-tooltip';import\"./MapSeats.scss\";import{seatsRowsSideLeft,seatsRowsSideRight,seatsRowsCenter,vipSeats,seatsVariants}from\"../../mockData/seats\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var selectedSeats=[];export default function MapSeats(props){function getVariants(){return/*#__PURE__*/_jsx(\"div\",{className:\"variants\",children:seatsVariants.map(function(place,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"variants__item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"variants__item-icon seat-svg\",children:[place.icon,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"variants__item-price\",children:[place.price,\" \\u0433\\u0440\\u043D\"]})]},index);})});}function buildMap(array,flag){return array.map(function(row,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"seats-map__row\",children:[flag?/*#__PURE__*/_jsx(\"div\",{className:\"seats-map__row-num\",children:index+1},\"num\"+index):\"\",row.map(function(_ref,index){var tooltip=_ref.tooltip,id=_ref.id,seat=_ref.seat,type=_ref.type;return id!==null?/*#__PURE__*/_jsx(\"button\",{className:\"seat\",\"data-typeseat\":type,\"data-tip\":tooltip,\"data-id\":id,onClick:addSeat,children:seat},index):/*#__PURE__*/_jsx(\"div\",{className:\"seat\"},index);})]},index);});}function addSeat(e){var target=e.currentTarget;var idSeat=target.dataset.id.split(\",\");var flag=selectedSeats.some(function(item){return item.seat===+idSeat[1]&&item.row===+idSeat[0];});if(!flag){selectedSeats.push({seat:+idSeat[1],row:+idSeat[0],type:target.dataset.typeseat});}else{var indexOF=0;selectedSeats.forEach(function(item,index){if(item.seat===+idSeat[1]&&item.row===+idSeat[0])indexOF=index;});selectedSeats.splice(indexOF,1);}props.getTickets(selectedSeats);}return/*#__PURE__*/_jsxs(\"section\",{className:\"seats\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"seats__title\",children:\"\\u041E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u043C\\u0456\\u0441\\u0446\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"seats__map seats-map\",children:[getVariants(),/*#__PURE__*/_jsxs(\"div\",{className:\"seats-map__top\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"seats-map__col-name\",children:\"\\u0420\\u044F\\u0434\"}),/*#__PURE__*/_jsx(\"span\",{className:\"seats-map__col-name\",children:\"\\u0415\\u043A\\u0440\\u0430\\u043D\"}),/*#__PURE__*/_jsx(\"span\",{className:\"seats-map__col-name\",children:\"\\u0420\\u044F\\u0434\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"seats-map__content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"seats-map__general\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"seats-map__col-left\",children:buildMap(seatsRowsSideLeft,true)}),/*#__PURE__*/_jsx(\"div\",{className:\"seats-map__col-center\",children:buildMap(seatsRowsCenter,false)}),/*#__PURE__*/_jsx(\"div\",{className:\"seats-map__col-right\",children:seatsRowsSideRight.map(function(row,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"seats-map__row\",children:[row.map(function(_ref2,index){var tooltip=_ref2.tooltip,id=_ref2.id,seat=_ref2.seat,type=_ref2.type;return id!==null?/*#__PURE__*/_jsx(\"button\",{className:\"seat\",\"data-tip\":tooltip,\"data-id\":id,\"data-typeseat\":type,onClick:addSeat,children:seat},index):/*#__PURE__*/_jsx(\"div\",{className:\"seat\"},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"seats-map__row-num\",children:index+1},\"num\"+index)]},\"num\"+index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"seats-map__vip\",children:buildMap(vipSeats)})]})]}),/*#__PURE__*/_jsx(ReactTooltip,{})]});}","map":{"version":3,"sources":["C:/Users/ddima/OneDrive/Рабочий стол/portfolio/cinema-park/src/components/MapSeats/MapSeats.js"],"names":["React","useState","ReactTooltip","seatsRowsSideLeft","seatsRowsSideRight","seatsRowsCenter","vipSeats","seatsVariants","selectedSeats","MapSeats","props","getVariants","map","place","index","icon","price","buildMap","array","flag","row","tooltip","id","seat","type","addSeat","e","target","currentTarget","idSeat","dataset","split","some","item","push","typeseat","indexOF","forEach","splice","getTickets"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport ReactTooltip from 'react-tooltip';\r\nimport \"./MapSeats.scss\";\r\n\r\n\r\nimport {\r\n    seatsRowsSideLeft,\r\n    seatsRowsSideRight,\r\n    seatsRowsCenter,\r\n    vipSeats,\r\n    seatsVariants\r\n} from \"../../mockData/seats\";\r\n\r\n\r\nconst selectedSeats = [];\r\n\r\nexport default function MapSeats(props) {\r\n    function getVariants() {\r\n        return (\r\n            <div className=\"variants\">\r\n                {\r\n                    seatsVariants.map((place, index) => (\r\n                        <div className=\"variants__item\" key={index}>\r\n                            <div className=\"variants__item-icon seat-svg\">{place.icon} </div>\r\n                            <span className=\"variants__item-price\">{place.price} грн</span>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    function buildMap(array, flag) {\r\n        return (\r\n            array.map((row, index) => (\r\n                <div className=\"seats-map__row\" key={index}>\r\n                    {(flag) ? <div className=\"seats-map__row-num\" key={\"num\" + index}>{index + 1}</div> : \"\"}\r\n                    {\r\n                        row.map(({ tooltip, id, seat, type }, index) => (\r\n                            (id !== null) ?\r\n                                <button\r\n                                    className=\"seat\"\r\n                                    key={index}\r\n                                    data-typeseat={type}\r\n                                    data-tip={tooltip} data-id={id} onClick={addSeat}>\r\n                                    {seat}\r\n                                </button> : <div className=\"seat\" key={index}></div>\r\n                        ))\r\n                    }\r\n                </div>\r\n\r\n            ))\r\n        );\r\n    }\r\n\r\n    function addSeat(e) {\r\n        let target = e.currentTarget;\r\n        let idSeat = target.dataset.id.split(\",\");\r\n        let flag = selectedSeats.some(item =>\r\n            item.seat === +idSeat[1] &&\r\n            item.row === +idSeat[0]);\r\n\r\n        if (!flag) {\r\n\r\n            selectedSeats.push({\r\n                seat: +idSeat[1],\r\n                row: +idSeat[0],\r\n                type: target.dataset.typeseat\r\n            });\r\n        }\r\n        else {\r\n            let indexOF = 0;\r\n            selectedSeats.forEach((item, index) => {\r\n                if (item.seat === +idSeat[1] && item.row === +idSeat[0])\r\n                    indexOF = index;\r\n            });\r\n\r\n            selectedSeats.splice(indexOF, 1);\r\n        }\r\n\r\n        props.getTickets(selectedSeats);\r\n\r\n    }\r\n    return (\r\n        <section className=\"seats\">\r\n            <div className=\"seats__title\">Оберіть місця</div>\r\n            <div className=\"seats__map seats-map\">\r\n                {getVariants()}\r\n                <div className=\"seats-map__top\">\r\n                    <span className=\"seats-map__col-name\">Ряд</span>\r\n                    <span className=\"seats-map__col-name\">Екран</span>\r\n                    <span className=\"seats-map__col-name\">Ряд</span>\r\n                </div>\r\n                <div className=\"seats-map__content\">\r\n                    <div className=\"seats-map__general\">\r\n                        <div className=\"seats-map__col-left\">\r\n                            {buildMap(seatsRowsSideLeft, true)}\r\n                        </div>\r\n                        <div className=\"seats-map__col-center\">\r\n                            {buildMap(seatsRowsCenter, false)}\r\n                        </div>\r\n                        <div className=\"seats-map__col-right\">\r\n                            {\r\n                                seatsRowsSideRight.map((row, index) => (\r\n                                    <div className=\"seats-map__row\" key={\"num\" + index}>\r\n                                        {\r\n                                            row.map(({ tooltip, id, seat, type }, index) => (\r\n                                                (id !== null) ?\r\n                                                    <button\r\n                                                        className=\"seat\"\r\n                                                        key={index}\r\n                                                        data-tip={tooltip} data-id={id}\r\n                                                        data-typeseat={type} onClick={addSeat}>\r\n                                                        {seat}\r\n                                                    </button> : <div className=\"seat\" key={index}></div>\r\n                                            ))\r\n                                        }\r\n                                        <div className=\"seats-map__row-num\" key={\"num\" + index}>{index + 1}</div>\r\n                                    </div>\r\n\r\n                                ))\r\n                            }\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"seats-map__vip\">\r\n                        {buildMap(vipSeats)}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <ReactTooltip />\r\n        </section >\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}